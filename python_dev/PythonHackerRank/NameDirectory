import operator

def person_lister(f):
    def inner(people):
        people.sort(key=lambda x: int(x[2]))
        return [f(person) for person in people]
    return inner

@person_lister
def name_format(person):
    return ("Mr. " if person[3] == "M" else "Ms. ") + person[0] + " " + person[1]

if __name__ == '__main__':
    print("Enter the number of people:")
    n_str = input().strip()
    if n_str:
        n = int(n_str)
        people = []
        for i in range(n):
            print(f"Enter details for person {i+1} (First Last Age Gender):")
            people.append(input().split())
        
        print("\nFormatted list sorted by age (Youngest to Oldest):")
        print(*name_format(people), sep='\n')